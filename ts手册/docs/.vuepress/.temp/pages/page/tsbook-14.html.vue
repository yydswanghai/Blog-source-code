<template><div><h1 id="ç±»å‹æ¼”ç®—" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ¼”ç®—" aria-hidden="true">#</a> ç±»å‹æ¼”ç®— ğŸ¶</h1>
<p>æ ¹æ®å·²çŸ¥çš„ä¿¡æ¯ï¼Œè®¡ç®—å‡ºæ–°çš„ç±»å‹</p>
<h2 id="typeof-å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#typeof-å…³é”®å­—" aria-hidden="true">#</a> typeof å…³é”®å­—</h2>
<p>TSä¸­çš„<code v-pre>typeof</code>ï¼Œä¹¦å†™çš„ä½ç½®åœ¨ç±»å‹çº¦æŸçš„ä½ç½®ä¸Šã€‚</p>
<p>è¡¨ç¤ºï¼šè·å–æŸä¸ªæ•°æ®çš„ç±»å‹</p>
<div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<p>TSä¸­çš„<code v-pre>typeof</code>ï¼Œä¸JSä¸­çš„<code v-pre>typeof</code>ä¸å¤ªä¸€æ ·ï¼Œæ ¹æ®ä½œç”¨çš„ä½ç½®åŒºåˆ†</p>
</div>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'abc'</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token keyword">typeof</span> a <span class="token operator">=</span> <span class="token string">'dasdas'</span>
<span class="token comment">// è®©bä¸açš„ç±»å‹ä¿æŒä¸€è‡´</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“<code v-pre>typeof</code>ä½œç”¨äºç±»çš„æ—¶å€™ï¼Œå¾—åˆ°çš„ç±»å‹ï¼Œæ˜¯è¯¥ç±»çš„æ„é€ å‡½æ•°</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    loginPwd<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// typeof User è®¡ç®—å‡ºæ¥çš„æ˜¯Userçš„æ„é€ å‡½æ•°ï¼Œç›´æ¥ä¹¦å†™Userè¡¨ç¤ºçš„æ˜¯ç±»æœ¬èº«</span>
<span class="token keyword">function</span> <span class="token function">createUser</span><span class="token punctuation">(</span>cls<span class="token operator">:</span> <span class="token keyword">typeof</span> User<span class="token punctuation">)</span><span class="token operator">:</span> User <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">cls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// éœ€è¦ä¼ é€’ä¸€ä¸ª æ„é€ å‡½æ•° ç”Ÿæˆä¸€ä¸ªç”¨æˆ·å¯¹è±¡</span>
<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token function">createUser</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="keyof-å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#keyof-å…³é”®å­—" aria-hidden="true">#</a> keyof å…³é”®å­—</h2>
<p>ä½œç”¨äºç±»ã€æ¥å£ã€ç±»å‹åˆ«åï¼Œç”¨äºè·å–å…¶ä»–ç±»å‹ä¸­çš„æ‰€æœ‰æˆå‘˜åç»„æˆçš„è”åˆç±»å‹</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    loginPwd<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// propçš„ç±»å‹åº”è¯¥æ˜¯Useré‡ŒæŸä¸ªå­—æ®µä¸­çš„ä¸€ä¸ª</span>
<span class="token comment">// ä¸ºä»€ä¹ˆè¦ç”¨ keyof Userï¼šå°†Userç±»å‹é‡Œçš„æ‰€æœ‰æˆå‘˜åæ‹¿å‡ºæ¥å½¢æˆçš„è”åˆç±»å‹ï¼Œæ˜¯åŠ¨æ€çš„</span>
<span class="token comment">// å¦‚æœä½ ä½¿ç”¨è”åˆç±»å‹ï¼Œå¦‚æœUserçš„å±æ€§åæ›´æ”¹äº†ï¼Œæˆ–è€…åç»­åˆå¢åŠ æˆ–ä¿®æ”¹ä¼šå¯¼è‡´è¿™é‡Œå¼•ç”¨propå‡ºé—®é¢˜</span>
<span class="token keyword">function</span> <span class="token function">printUserProperty</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> User<span class="token punctuation">,</span> prop<span class="token operator">:</span> <span class="token keyword">keyof</span> User<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token string">'Matt'</span><span class="token punctuation">,</span>
    loginPwd<span class="token operator">:</span> <span class="token string">'123145'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token function">printUserProperty</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="in-å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#in-å…³é”®å­—" aria-hidden="true">#</a> in å…³é”®å­—</h2>
<p>è¯¥å…³é”®å­—å¾€å¾€å’Œ<code v-pre>keyof</code>è”ç”¨ï¼Œé™åˆ¶æŸä¸ªç´¢å¼•ç±»å‹çš„å–å€¼èŒƒå›´</p>
<p>ä¾‹ï¼šæœ‰ä¸€ä¸ªå¦‚ä¸‹çš„Userç±»å‹</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    createDate<span class="token operator">:</span> Date
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ è¦é€šè¿‡<code v-pre>User</code>çš„æ‰€æœ‰å±æ€§æ¥å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„ï¼Œä½†æ˜¯ç±»å‹å…¨éƒ¨æ˜¯stringçš„ç±»å‹å¯ä»¥ä½¿ç”¨<code v-pre>in</code>å…³é”®å­—</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">UserString</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token string">"loginId"</span> <span class="token operator">|</span> <span class="token string">"age"</span> <span class="token operator">|</span> <span class="token string">"createDate"</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº â¬‡ï¸</span>
<span class="token keyword">type</span> <span class="token class-name">UserString</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">string</span>
    createDate<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u<span class="token operator">:</span> UserString <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token string">'dandv'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>
    createDate<span class="token operator">:</span> <span class="token string">'2022-01-01'</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯è¿™æ ·åšä¹Ÿä¸å¤ªå¥½ï¼Œå¦‚æœåç»­å¯¹åŸ<code v-pre>User</code>ç±»å‹æ–°å¢ã€ä¿®æ”¹æˆ–åˆ é™¤å±æ€§ï¼Œä½ ä¹Ÿä¸èƒ½é€šè¿‡<code v-pre>F2</code>ä¸€æ¬¡æ€§ä¿®æ”¹ï¼Œä¼šé€ æˆä¸€äº›é”™è¯¯</p>
<p>äºæ˜¯å¯ä»¥åˆ©ç”¨<code v-pre>keyof</code>å…³é”®å­—ï¼Œè·å–<code v-pre>User</code>ç±»å‹é‡Œçš„æ‰€æœ‰ç±»å‹</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">UserString</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> User<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº â¬‡ï¸</span>
<span class="token keyword">type</span> <span class="token class-name">UserString</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">string</span>
    createDate<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ï¼šæ–°ç±»å‹å’ŒåŸ<code v-pre>User</code>ç±»å‹çš„ç±»å‹ä¹Ÿä¿æŒä¸€è‡´</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">newUser</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> User<span class="token punctuation">]</span><span class="token operator">:</span> User<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº â¬‡ï¸</span>
<span class="token keyword">type</span> <span class="token class-name">newUser</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
    createDate<span class="token operator">:</span> Date
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ï¼šå±æ€§å…¨éƒ¨åªè¯»</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">UserReadonly</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> User<span class="token punctuation">]</span><span class="token operator">:</span> User<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº â¬‡ï¸</span>
<span class="token keyword">type</span> <span class="token class-name">UserReadonly</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> loginId<span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token keyword">readonly</span> createDate<span class="token operator">:</span> Date
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ï¼šå±æ€§å…¨éƒ¨å¯é€‰</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">UserPartial</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> User<span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> User<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç­‰åŒäº â¬‡ï¸</span>
<span class="token keyword">type</span> <span class="token class-name">UserPartial</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    loginId<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
    createDate<span class="token operator">?</span><span class="token operator">:</span> Date
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ï¼šå±æ€§å…¨éƒ¨å¯é€‰ ç±»å‹è‡ªå®šä¹‰</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MyPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ï¼šå±æ€§å…¨éƒ¨å¯é€‰ ç±»å‹è‡ªå®šä¹‰ å±æ€§å…¨éƒ¨åªè¯»</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MyReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tsä¸­çš„é¢„è®¾çš„ç±»å‹æ¼”ç®—" tabindex="-1"><a class="header-anchor" href="#tsä¸­çš„é¢„è®¾çš„ç±»å‹æ¼”ç®—" aria-hidden="true">#</a> TSä¸­çš„é¢„è®¾çš„ç±»å‹æ¼”ç®—</h2>
<table>
<thead>
<tr>
<th>ç±»å‹æ¼”ç®—</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>Partial&lt;T&gt;</code></td>
<td>å°†ç±»å‹Tä¸­çš„æˆå‘˜å˜ä¸ºå¯é€‰</td>
</tr>
<tr>
<td><code v-pre>Required&lt;T&gt;</code></td>
<td>å°†ç±»å‹Tä¸­çš„æˆå‘˜å˜ä¸ºå¿…å¡«</td>
</tr>
<tr>
<td><code v-pre>Readonly&lt;T&gt;</code></td>
<td>å°†ç±»å‹Tä¸­çš„æˆå‘˜å˜ä¸ºåªè¯»</td>
</tr>
<tr>
<td><code v-pre>Exclude&lt;T, U&gt;</code></td>
<td>ä»Tä¸­å‰”é™¤å¯ä»¥èµ‹å€¼ç»™Uçš„ç±»å‹</td>
</tr>
<tr>
<td><code v-pre>Extract&lt;T, U&gt;</code></td>
<td>æå–Tä¸­å¯ä»¥èµ‹å€¼ç»™Uçš„ç±»å‹</td>
</tr>
<tr>
<td><code v-pre>NonNullable&lt;T&gt;</code></td>
<td>ä»Tä¸­å‰”é™¤nullå’Œundefined</td>
</tr>
<tr>
<td><code v-pre>ReturnType&lt;T&gt;</code></td>
<td>è·å–å‡½æ•°è¿”å›å€¼ç±»å‹</td>
</tr>
<tr>
<td><code v-pre>InstanceType&lt;T&gt;</code></td>
<td>è·å–æ„é€ å‡½æ•°ç±»å‹çš„å®ä¾‹ç±»å‹</td>
</tr>
</tbody>
</table>
<div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p><code v-pre>-?</code>æ ‡è¯†ç¬¦ï¼šå»æ‰å¯é€‰</p>
<p><code v-pre>inter</code>å…³é”®å­—ï¼šæ¨æ–­</p>
</div>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> u1<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dadq'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> u2<span class="token operator">:</span> Required<span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dadq'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> u3<span class="token operator">:</span> Readonly<span class="token operator">&lt;</span>User<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'dadq'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> <span class="token string">"ç”·"</span> <span class="token operator">|</span> <span class="token string">"å¥³"</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>

<span class="token comment">// æ­¤æ—¶ NEWT çš„ç±»å‹ä¸º "ç”·" | "å¥³" çš„è”åˆç±»å‹</span>
<span class="token keyword">let</span> <span class="token constant">NEWT</span><span class="token operator">:</span> Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token string">"ç”·"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> <span class="token string">"ç”·"</span> <span class="token operator">|</span> <span class="token string">"å¥³"</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>

<span class="token comment">// æ­¤æ—¶ NEWT çš„ç±»å‹ä¸º "ç”·" | "å¥³" çš„è”åˆç±»å‹</span>
<span class="token keyword">let</span> <span class="token constant">NEWT</span><span class="token operator">:</span> Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token string">"ç”·"</span> <span class="token operator">|</span> <span class="token string">"å¥³"</span> <span class="token operator">|</span> <span class="token string">"a"</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token string">"ç”·"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">str</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>

<span class="token comment">// æ­¤æ—¶ strNotEmpty çš„ç±»å‹ä¸º string</span>
<span class="token keyword">type</span> <span class="token class-name">strNotEmpty</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span>str<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token comment">// æƒ…å†µ1</span>
<span class="token keyword">type</span> <span class="token class-name">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span>

<span class="token comment">// å¾—åˆ°è¿”å›å€¼ä¸º numberç±»å‹</span>
<span class="token keyword">type</span> <span class="token class-name">returnType</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>func<span class="token operator">></span>

<span class="token comment">// æƒ…å†µ2</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ­¤æ—¶açš„ç±»å‹ä¸º numberç±»å‹</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> sum<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚ä¸‹åœºæ™¯ï¼šæœ‰ä¸€ä¸ªç±»å‹<code v-pre>twoParamsConstructor</code>æ¥çº¦æŸæ„é€ å‡½æ•°</p>
<div class="language-typescript ext-ts line-numbers-mode"><pre v-pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>
    loginId<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// çº¦æŸä¸€ä¸ªæ„é€ å‡½æ•°ï¼šå¿…é¡»æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼šæ„é€ å‡½æ•°ä¸¤ä¸ªå‚æ•°(é¸­å­è¾¨å‹æ³•ï¼šå‚æ•°å¯ä»¥å°‘)ï¼Œè¿”å›User</span>
<span class="token keyword">type</span> <span class="token class-name">twoParamsConstructor</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span>arg1<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> arg2<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> User

<span class="token keyword">let</span> <span class="token constant">A</span><span class="token operator">:</span> twoParamsConstructor <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ­¤æ—¶ Inst ç±»å‹ä¸º User</span>
<span class="token keyword">type</span> <span class="token class-name">Inst</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span>twoParamsConstructor<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>
